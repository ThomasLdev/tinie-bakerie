<div class="relative {{ not isOdd ? 'section-media-cut' : '' }}">
    {% if section.media|length > 1 %}
        <div class="swiper h-[30rem]" {{ stimulus_controller('slider', {pagination: true}) }}>
            <div class="swiper-wrapper">
                {% for media in section.media %}
                    <div class="swiper-slide">
                        {% include 'partials/_media_thumbnail.html.twig' with {
                            path: media.media.path ?? null,
                            alt: media.alt ?? '',
                            title: media.title ?? '',
                            variation: 'medium-2x-webp',
                            class: 'w-full h-full object-cover'
                        } only %}
                    </div>
                {% endfor %}
            </div>
            <div class="swiper-pagination"></div>
        </div>
    {% else %}
        {% set sectionMedia = section.media|first %}
        {% include 'partials/_media_thumbnail.html.twig' with {
            path: sectionMedia.media.path ?? null,
            alt: sectionMedia.alt ?? '',
            title: sectionMedia.title ?? '',
            variation: 'medium-2x-webp',
            class: 'w-full h-64 object-cover'
        } only %}
    {% endif %}

    {# Step number badge â€” bottom right, overlapping #}
    <div class="absolute -bottom-5 right-6 w-12 h-12 rounded-full {{ isOdd ? 'bg-amber-900' : 'bg-rose-900' }} text-white flex items-center justify-center text-xl font-semibold shadow-lg z-10 ring-4 ring-white">
        {{ stepIndex }}
    </div>
</div>
